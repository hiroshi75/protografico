# 01. 基本概念

LangGraphの核となる3つの要素を理解する。

## 概要

LangGraphは、エージェントワークフローを**グラフ**としてモデル化するフレームワークです。複雑なワークフローを**離散的なステップ（ノード）**に分解することで、以下を実現します：

- **耐性向上**: ノード境界でチェックポイント作成
- **可視性向上**: 各ステップ間で状態検査が可能
- **独立テスト**: 個別ノードの単体テストが容易
- **エラーハンドリング**: エラータイプごとに異なる戦略を適用可能

## 3つの主要要素

### 1. [State（状態）](State.md)
- グラフ内のすべてのノードで共有されるメモリ
- 現在の実行状態のスナップショット
- TypedDictまたはPydanticモデルで定義

### 2. [Node（ノード）](Node.md)
- 個別のタスクを実行するPython関数
- 現在の状態を受け取り、更新を返す
- 処理の基本単位

### 3. [Edge（エッジ）](Edge.md)
- ノード間の遷移を定義
- 固定遷移または条件分岐
- 制御フローを決定

## 設計哲学

LangGraphの核となる考え方は、**離散的なステップへの分解**です：

```python
# エージェントを個別のノードに分割
graph = StateGraph(State)
graph.add_node("analyze", analyze_node)  # 分析ステップ
graph.add_node("decide", decide_node)     # 判断ステップ
graph.add_node("execute", execute_node)   # 実行ステップ
```

このアプローチにより、各ステップが独立して動作し、全体として堅牢なシステムを構築できます。

## 重要な原則

1. **生データを保存**: Stateには生データを保存し、プロンプトのフォーマットはノード内で動的に行う
2. **更新を返す**: ノードは状態を直接変更せず、更新内容を返す
3. **透明な制御フロー**: Commandオブジェクトで次の遷移先を明示的に宣言

## 次のステップ

各要素の詳細については、以下のページを参照してください：

- [State.md](State.md) - 状態管理の詳細
- [Node.md](Node.md) - ノードの実装方法
- [Edge.md](Edge.md) - エッジと制御フロー
